{
    "collab_server" : "",
    "contents" : "HTMLWidgets.widget({\n\n  name: 'd4_three',\n  type: 'output',\n\n  factory: function(el, width, height) {\n\n    return {\n\n      renderValue: function(x) {\n\n  var d;\n  var sampleSVG = d3.select(\"#\" + el.id).append(\"svg\");\n  var svg = sampleSVG.attr(\"class\", \"bubble\");\n\nfunction updateJSON1a1(){\n    d = x.inputNames1a1;\n    return(d);\n  }\n\n function updateJSON1a2(){\n    d = x.inputNames1a2;\n    return(d);\n  }\n\n  function updateJSON2a1(){\n    d = x.inputNames2a1;\n    return(d);\n  }\n\n  function updateJSON2a2(){\n    d = x.inputNames2a2;\n    return(d);\n  }\n\n  function updateJSON3a1(){\n    d = x.inputNames3a1;\n    return(d);\n  }\n\n  function updateJSON3a2(){\n    d = x.inputNames3a2;\n    return(d);\n  }\n\n   function updateJSON3a3(){\n    d = x.inputNames3a3;\n    return(d);\n  }\n\n  function updateJSON3a4(){\n    d = x.inputNames3a4;\n    return(d);\n  }\n\n   function updateJSON4a1(){\n    d = x.inputNames4a1;\n    return(d);\n  }\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"orange\")\n                      .style(\"opacity\", 0.2)\n                      .attr(\"x\", 0)\n                      .attr(\"y\", 0)\n                      .attr(\"width\", 400)\n                      .attr(\"height\", 80);\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"Ivory\")\n                      .style(\"opacity\", 1)\n                      .attr(\"x\", 0)\n                      .attr(\"y\", 80)\n                      .attr(\"width\", 215)\n                      .attr(\"height\", 240);\n\n  sampleSVG.append(\"rect\")\n                      .style(\"fill\", \"green\")\n                      .style(\"opacity\", 0.1)\n                      .attr(\"x\", 215)\n                      .attr(\"y\", 80)\n                      .attr(\"width\", 185)\n                      .attr(\"height\", 240);\n\n    var diagonal = d3.svg.diagonal()\n                         .source({x:20, y:200})\n                         .target({x:100, y:250});\n\n    var diagonal2 = d3.svg.diagonal()\n                         .source({x:20, y:200})\n                         .target({x:100, y:150});\n\n    var diagonal3 = d3.svg.diagonal()\n                         .source({x:100, y:150})\n                         .target({x:200, y:100});\n\n    var diagonal4 = d3.svg.diagonal()\n                         .source({x:100, y:150})\n                         .target({x:200, y:180});\n\n    var diagonal5 = d3.svg.diagonal()\n                         .source({x:100, y:250})\n                         .target({x:200, y:300});\n\n    var diagonal6 = d3.svg.diagonal()\n                         .source({x:100, y:250})\n                         .target({x:200, y:220});\n\n    var diagonal7 = d3.svg.diagonal()\n                         .source({x:50, y:200})\n                         .target({x:100, y:150});\n\n   var diagonal8 = d3.svg.diagonal()\n                       .source({x:50, y:200})\n                       .target({x:100, y:250});\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal)\n                        .attr(\"stroke\", x.col1a1)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n    sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal2)\n                        .attr(\"stroke\", x.col1a2)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal3)\n                        .attr(\"stroke\", x.col2a1)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal4)\n                        .attr(\"stroke\", x.col2a2)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal5)\n                        .attr(\"stroke\", x.col3a1)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal6)\n                        .attr(\"stroke\", x.col3a2)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal7)\n                        .attr(\"stroke\", x.col3a3)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"path\")\n                        .attr(\"d\", diagonal8)\n                        .attr(\"stroke\", x.col3a4)\n                        .attr(\"stroke-width\", 1)\n                        .attr(\"fill\", \"none\");\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 10)\n                        .attr(\"cx\", 20)\n                        .attr(\"cy\", 200)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON1a1());\n                            d3.select(\"#tx2\").text(x.text1a1).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\").style(\"stroke\",\"\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n  sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 50)\n                        .attr(\"cy\", 200)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON1a2());\n                            d3.select(\"#tx2\").text(x.text1a2).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 100)\n                        .attr(\"cy\", 150)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON2a1())\n                            d3.select(\"#tx2\").text(x.text2a1).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 100)\n                        .attr(\"cy\", 250)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON2a2());\n                            d3.select(\"#tx2\").text(x.text2a2).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 100)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON3a1());\n                            d3.select(\"#tx2\").text(x.text3a1).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 180)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON3a2());\n                            d3.select(\"#tx2\").text(x.text3a2).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 220)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON3a3());\n                            d3.select(\"#tx2\").text(x.text3a3).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n   sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 200)\n                        .attr(\"cy\", 300)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON3a4());\n                            d3.select(\"#tx2\").text(x.text3a4).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n    sampleSVG.append(\"circle\")\n                        .style(\"stroke\", \"gray\")\n                        .style(\"fill\", \"black\")\n                        .attr(\"r\", 8)\n                        .attr(\"cx\", 175)\n                        .attr(\"cy\", 200)\n                        .on(\"mouseover\", function() {\n                            getNewData(updateJSON4a1());\n                            d3.select(\"#tx2\").text(x.text4a1).style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"grey\");\n                        })\n                        .on(\"mouseout\", function() {\n                            d3.select(\"#tx2\").style('opacity', 1);\n                            d3.select(this).style(\"fill\",\"black\");\n                        })\n                        .on(\"click\", function() {\n                            d3.selectAll(\"#bubblePlot\").style(\"opacity\",1).style(\"display\",\"block\");\n                            d3.selectAll(\".node\").style(\"opacity\",1).style(\"display\",\"block\");\n                        });\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"tx2\")\n                     .attr(\"x\", 275)\n                     .attr(\"y\", 100)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"18px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"description\")\n                     .attr(\"x\", 250)\n                     .attr(\"y\", 200)\n                     .text(\"lore ipsum dolore\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"header1\")\n                     .attr(\"x\", 10)\n                     .attr(\"y\", 20)\n                     .text(\"Dataset:\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"header1\")\n                     .attr(\"x\", 150)\n                     .attr(\"y\", 20)\n                     .text(\"Method:\")\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n   sampleSVG.append(\"text\")\n                     .attr(\"id\",\"header1\")\n                     .attr(\"x\", 200)\n                     .attr(\"y\", 20)\n                     .text(x.method)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"datasetName\")\n                     .attr(\"x\", 60)\n                     .attr(\"y\", 20)\n                     .text(x.dataName)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  sampleSVG.append(\"text\")\n                     .attr(\"id\",\"colNames\")\n                     .attr(\"x\", 10)\n                     .attr(\"y\", 50)\n                     .text(x.cNames)\n                     .attr(\"font-family\", \"sans-serif\")\n                     .attr(\"font-size\", \"11px\")\n                     .attr(\"fill\", \"black\")\n                     .style('opacity', 1);\n\n  var diameter = 350,\n      format = d3.format(\",d\"),\n      color = d3.scale.category20c();\n\n  var bubble = d3.layout.pack()\n      .sort(null)\n      .size([350, 300])\n      .padding(1.5);\n\n  svg.append(\"rect\")\n     .attr(\"id\",\"bubblePlot\")\n     .attr(\"width\", \"100%\")\n     .attr(\"height\", \"100%\")\n     .attr(\"fill\", \"Ivory\")\n     .style(\"opacity\", 0)\n     .style(\"display\",\"none\");\n\n  svg.append(\"rect\")\n     .attr(\"id\",\"bubblePlot\")\n     .style(\"opacity\", 0)\n     .style(\"display\",\"none\")\n     .attr(\"width\", 80)\n     .attr(\"height\", 40)\n     .attr(\"fill\", \"DarkSalmon\")\n     .on(\"mouseover\", function() {\n        d3.selectAll(\"#bubblePlot\").style(\"opacity\",0).style(\"display\",\"none\");\n      });\n\n  svg.append(\"text\")\n     .attr(\"id\",\"bubblePlot\")\n     .attr(\"x\", 25)\n     .attr(\"y\", 26)\n     .style(\"opacity\", 0)\n     .text(\"back\");\n\n  function getNewData(input) {\n    d3.json(input, function(error, root) {\n      d3.selectAll(\"g\").remove();\n      var node = svg.selectAll(\".node\")\n          .attr(\"id\",\"bubblePlot\")\n          .data(bubble.nodes(classes(d))\n          .filter(function(d) { return !d.children; }))\n          .enter().append(\"g\")\n          .attr(\"class\", \"node\")\n          .style(\"opacity\", 0)\n          .style(\"display\",\"none\")\n          .attr(\"transform\", function(d) { return \"translate(\" + d.x + \",\" + d.y + \")\"; });\n\n      node.append(\"title\")\n          .attr(\"id\",\"bubblePlot\")\n          .text(function(d) { return d.className + \": \" + format(d.value); });\n\n      node.append(\"circle\")\n          .attr(\"id\",\"bubblePlot\")\n          .attr(\"r\", function(d) { return d.r; })\n          .style(\"fill\", function(d) { return color(d.packageName); });\n\n      node.append(\"text\")\n          .attr(\"id\",\"bubblePlot\")\n          .attr(\"font-size\", \"8px\")\n          .attr(\"dy\", \".2em\")\n          .style(\"text-anchor\", \"middle\")\n          .text(function(d) { return d.className.substring(0, d.r / 3); });\n  });\n}\n\nfunction classes(root) {\n  var classes = [];\n\n  function recurse(name, node) {\n    if (node.children) node.children.forEach(function(child) { recurse(node.name, child); });\n    else classes.push({packageName: name, className: node.name, value: node.size});\n  }\n\n  recurse(null, root);\n  return {children: classes};\n}\n\nd3.select(self.frameElement).style(\"height\", diameter + \"px\");\nd3.selectAll(\"g\").style(\"opacity\", 0);\n\n      },\n\n      resize: function(width, height) {\n\n\n      }\n\n    };\n  }\n});\n",
    "created" : 1471385759798.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "3840207975",
    "id" : "9EF28AB6",
    "lastKnownWriteTime" : 1471655107,
    "last_content_update" : 1471655107250,
    "path" : "~/Discovr_graphics/inst/htmlwidgets/d4_three.js",
    "project_path" : "inst/htmlwidgets/d4_three.js",
    "properties" : {
    },
    "relative_order" : 2,
    "source_on_save" : false,
    "source_window" : "",
    "type" : "js"
}